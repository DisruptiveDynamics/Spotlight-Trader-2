# ==============================================================================
# Spotlight Trader - Environment Variables
# ==============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to git (it contains secrets)

# ------------------------------------------------------------------------------
# Server Configuration
# ------------------------------------------------------------------------------
NODE_ENV=development
PORT=8080
LOG_LEVEL=info

# Tool timeout in milliseconds (how long tools wait before giving up)
TOOL_TIMEOUT_MS=1500

# Microbar update frequency in milliseconds (50ms = 20 updates/sec, 200ms = 5 updates/sec)
MICROBAR_MS=200

# Ring buffer capacity (max bars to keep in memory per symbol)
RING_BUFFER_CAP=5000

# History initialization settings
HISTORY_INIT_LIMIT=300
HISTORY_INIT_TIMEFRAME=1m

# ------------------------------------------------------------------------------
# Client Configuration (Vite)
# ------------------------------------------------------------------------------
# API base URL (leave empty to auto-detect from window.location)
VITE_API_BASE=

# Enable unified dev mode (Express + Vite on same port)
VITE_UNIFIED_DEV=1

# Enable HTTPS for HMR (Hot Module Replacement)
# Set to "1" only if you have valid SSL certs configured  
# Default: "0" (HTTP/WS for local development)
VITE_HTTPS=0

# Build ID for cache busting (auto-generated in CI)
VITE_BUILD_ID=

# ------------------------------------------------------------------------------
# Authentication
# ------------------------------------------------------------------------------
# 6-digit PIN for app access (personal use)
APP_PIN=123456

# JWT secret for session tokens (generate a random string)
AUTH_JWT_SECRET=your_random_secret_here_change_this

# Session secret for cookie signing (min 32 characters)
SESSION_SECRET=your_session_secret_min_32_chars_long

# App authentication secret
APP_AUTH_SECRET=yet_another_random_secret

# ------------------------------------------------------------------------------
# External Services
# ------------------------------------------------------------------------------
# Polygon.io API key (required for live market data)
# Get one at: https://polygon.io
POLYGON_API_KEY=your_polygon_api_key_here

# OpenAI API key (required for AI coach and voice assistant)
# Get one at: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here

# Resend API key (optional, for email notifications)
RESEND_API_KEY=

# ------------------------------------------------------------------------------
# Database
# ------------------------------------------------------------------------------
# PostgreSQL connection string (Neon or any Postgres provider)
# Example: postgresql://user:password@host:5432/database?sslmode=require
DATABASE_URL=postgresql://user:password@localhost:5432/spotlight

# Redis URL (optional, for caching and sessions)
REDIS_URL=redis://localhost:6379

# Individual Postgres connection params (auto-populated by Replit database)
PGHOST=
PGPORT=5432
PGUSER=
PGPASSWORD=
PGDATABASE=

# ------------------------------------------------------------------------------
# Origins (CORS configuration)
# ------------------------------------------------------------------------------
# Trusted admin origin (for admin panel access)
ADMIN_ORIGIN=http://localhost:5000

# App origin (where the app is hosted)
APP_ORIGIN=http://localhost:5000
